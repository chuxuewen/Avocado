#!/usr/bin/env node

var util = require('../util');
var fs = require('../fs');
var AvocadoBuild = require('../build').AvocadoBuild;
var export_ = require('../export');
var remote_console = require('../remote_console');
var args = process.argv.slice(2);
var cmd = args.shift();

if ( cmd == 'export' ) {
  util.assert(args.length, 'export Bad argument. system name required, for example "avocado export ios"');
  new export_.AvocadoExport(process.cwd(), args[0]).start();
} else if ( cmd == 'build' || cmd == 'init' ) {
	var build = new AvocadoBuild(process.cwd(), process.cwd() + '/out');
	if ( cmd == 'init' ) {
		build.initialize();
	} else {
  	build.start();
	}
} else {
 	remote_console.start_server(args[0]);
}
